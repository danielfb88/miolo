
<?php
/* Copyright 2006, 2007, 2008, 2009, 2010 do SETEC/MEC
 *
 * Este arquivo é parte do programa SigaEPT
 *
 * O SigaEPT é um software livre;  você pode redistribuí-lo e/ou modificá-lo dentro dos
 * termos da Licença Pública Geral GNU como publicada pela fundação do software livre (FSF);
 * na versão 2 da Licença.
 *
 * Este programa é distribuído na esperança que possa ser útil, mas SEM NENHUMA GARANTIA; sem
 * uma garantia implícita de ADEQUAÇÃO a qualquer MERCADO ou APLICAÇÃO EM PARTICULAR. Veja Licença
 * Pública Geral GNU/GPL em português para maiores detalhes.
 *
 * Você deve ter recebido uma cópia da Licença Pública Geral GNU, sob o título “LICENCA.txt”,
 * junto com este programa, se não, acesse o portal do Software Público Brasileiro no endereço
 * www.softwarepublico.gov.br ou escreva para Fundação do Software Livre (FSF) Inc.,51 Franklin
 * St, Fifth Floor, Boston, MA 02110-1301, USA
 */
?>

<?
class frmLicitacaoTabbed extends MTabbedForm
{
    function __construct()
    {   
		parent::__construct('Title: Painel de Licitações');
        $this->SetPainterMethod('javascript'); 
        //$this->SetPainterMethod('html'); 
        $this->pagewidth = 150;
        $this->pageheight = 600;       
        
        $form0 = new FrmTabbedZero();
        $form1 = new FrmTabbedOne();
        $form2 = new FrmTabbedTwo();
        $form3 = new FrmTabbedThree();
        $form4 = new FrmTabbedFour();

        $this->AddPage($form0);
        $this->AddPage($form1);
        $this->AddPage($form2);
        $this->AddPage($form3);
        $this->AddPage($form4);

//        $this->SetCurrentPage(0);
	}
	
	    
}

class FrmTabbedZero extends MForm
{
    function __construct()
    {
       parent::__construct('Em Andamento');
    }

    function CreateFields()    
    {
        global $MIOLO, $action;
        $ui = $MIOLO->GetUI();

        $grid0 = $ui->GetGrid('adm','gridLicitacao');
        $grid0->SetTitle("Licitações em Andamento");
        
        $fields0 = array($grid0);
                        
        $this->SetFields($fields0); 
    }
}

class FrmTabbedOne extends MForm
{
    function __construct()
    {
       parent::__construct('Itens da UFJF');
    }

    function CreateFields()
    {
        global $MIOLO, $action, $perms;
        
        $ui = $MIOLO->GetUI();

        // old
        //$grid1 = $ui->GetGrid('adm','gridItensALicitar');
        
        //new
        $grid1 = $ui->GetGrid('adm','gridItensALicitarAjax');

        $grid1->SetTitle("Itens a Licitar");

        if ($perms->CheckAccess('ADM_ABRELICITACAO',A_EXECUTE))
        {
            $lnkNew1 = new LinkLicitacao('lnkNew', FALSE);
            $lnkNew1->setNew(1);       
            $fields1 = array($grid1,$lnkNew1);
        }
        else
        {
            $fields1 = array($grid1);
        }                        
        $this->SetFields($fields1); 
    }
}


class FrmTabbedTwo extends MForm
{
    function __construct()
    {
       parent::__construct('Itens do H.U.');
    }

    function CreateFields()
    {
        global $MIOLO, $action, $perms;
        
        $ui = $MIOLO->GetUI();

        $grid2 = $ui->GetGrid('adm','gridItensALicitarHU');
        $grid2->SetTitle("Itens do Hospital Universitário a licitar");

        if ($perms->CheckAccess('ADM_ABRELICITACAO',A_EXECUTE))
        {
            $lnkNew2 = new LinkLicitacao('lnkNew',FALSE);
            $lnkNew2->setNew(325);
            $fields2 = array($grid2,$lnkNew2);
        }
        else
        {   
            $fields2 = array($grid2,$lnkNew2);
        }
        $this->SetFields($fields2); 
    }
}

class FrmTabbedThree extends MForm
{
    function __construct()
    {
       parent::__construct('Serviços a Licitar');
    }

    function CreateFields()
    {
        global $MIOLO, $action;
        
        $ui = $MIOLO->GetUI();

        $grid3 = $ui->GetGrid('adm','gridServicosALicitar');
        $grid3->SetTitle("Serviços a Licitar");
 
        $lnkNew3 = new LinkLicitacao('lnkNew', FALSE);
        $lnkNew3->setNew("SERVICO");
       
        $fields3 = array($grid3,$lnkNew3);
                        
        $this->SetFields($fields3); 
    }
}


class FrmTabbedFour extends MForm
{
    function __construct()
    {
       parent::__construct('Concluídas');
    }

    function CreateFields()    
    {
        global $MIOLO, $action;
        $ui = $MIOLO->GetUI();

        $grid0 = $ui->GetGrid('adm','gridLicitacoesVencidas');
        $grid0->SetTitle("Licitações em Andamento");
        
        $fields0 = array($grid0);
                        
        $this->SetFields($fields0); 
    }
}


?>
