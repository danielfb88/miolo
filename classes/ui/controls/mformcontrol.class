<?php

class MFormControl extends MControl
{
    public $label;
    public $value;
    public $hint;
    public $form;
    public $formName;
    public $showLabel; // se label deve ser exibido junto com o campo
    public $autoPostBack;


    public function __construct( $name, $value = '', $label = '', $color = '', $hint = '' )
    {
        parent::__construct( $name );

        $this->addStyleFile( 'm_controls.css' );
        $this->setValue($value);
        $this->label = $label;
        $this->hint  = $hint;

        if ( $color != '' )
        {
            $this->color = $color;
        }

        $this->showLabel    = true;
        $this->autoPostBack = false;
        $this->form         = NULL;
    }


    public function setValue( $value )
    {
        $this->value = $value;
    }


    public function getValue()
    {
        return $this->value;
    }


    public function setLabel( $label )
    {
        $this->label = $label;
    }


    public function setAutoPostBack( $value )
    {
        $this->autoPostBack = $value;
    }


    public function generateLabel()
    {
        $label = '';
        $this->showLabel = ( $this->formMode >= MControl::FORM_MODE_SHOW_ABOVE );
        if ( ( $this->showLabel ) && ( $this->label != '' ) )
        {
            $span  = new MSpan( '', $this->label, 'm-caption' );
            $label = $this->painter->span( $span );

            if ( $this->formMode == MControl::FORM_MODE_SHOW_ABOVE )
            {
                $label .= $this->painter->BR;
            }
            elseif ( $this->formMode == MControl::FORM_MODE_SHOW_NBSP )
            {
                $label .= "&nbsp;&nbsp;";
            }
        }
        return $label;
    }

}
?>