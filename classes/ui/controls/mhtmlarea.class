<?php
class MHtmlArea extends MMultiLineField
{
    function Generate()
    {
        global $module;
        $this->manager->getPage()->addJsCode("function update_{$this->name}(value) {miolo.getElementById('{$this->name}').value = value}");
        $array = array('fieldName'=>$this->name,'fieldLabel'=>$this->label);
        $url = $this->manager->getActionURL($module,'htmlarea',$this->name,$array);
        $btnEdit = new MButton($this->name."_edit",'Edit',"window.open('{$url}')");
        $html = $btnEdit->generate();
        return parent::Generate() . $html;
    }
}