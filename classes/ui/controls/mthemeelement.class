<?php

class MThemeElement extends MControl
{
    function __construct($name = NULL, $content = '', $class = '')
    {
        parent::__construct($name);
        $this->setInner($content);
        $this->setClass($class);
    }

    function clear($halted = false)
    {
        if (!$halted)
        {
            $this->clearControls();
        }
    }

    function get($key = 0)
    {
        return $this->getElement($key);
    }

    function set($element, $id = '', $key = NULL)
    {
        $this->setElement($element, $key, 's');
        $this->setId($id);
    }

    function insert($element, $key = NULL, $halted = false)
    {
        if (!$halted)
        {
            $this->setElement($element, $key, 'i');
        }
    }

    function append($element, $key = NULL, $halted = false)
    {
        if (!$halted)
        {
            $this->setElement($element, $key, 'a');
        }
    }

    function Count()
    {
        return $this->controlsCount;
    }

    function setElement($element, $key = NULL, $op = 's')
    {
        if (is_array($element))
        {
            $this->clear();

            foreach ($element as $e)
            {
                $this->setElement($e, $key, 'a');
            }
        }
        else
        {
            switch ($op)
                {
                case 's':
                    $this->Clear();

                    $this->addControl($element);
                    break;

                case 'a':
                    $this->addControl($element);
                    break;

                case 'i':
                    $this->insertControl($element);
                    break;
                }
        }
    }

    function getElement($key)
    {
        return $this->getControl($key);
    }

    function getElementById($key)
    {
        return $this->getControlById($key);
    }

    function space($space = '20px')
    {
        $this->append(new MSpacer($space));
    }

    function generateInner()
    {
        $this->setBoxId($this->GetId());
        $this->setBoxClass($this->GetClass());
        $controls = $this->getControls();
        $this->inner = $this->painter->generateToString($controls);
        return $this->inner;
    }
}
?>