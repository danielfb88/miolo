<?php
class MCompoundForm extends MForm
{
    var $_info = array();
    var $_panel = array();
    var $_form = array();

    function __construct($title = '', $action = '', $close = 'backContext', $icon = '')
    {
        parent::__construct($title, $action, $close, $icon);
        $this->defaultButton = false;
        $this->CompoundFields();
    }

    function CompoundFields()
    {
        $this->ClearControls();
        $this->fields = array
            (
            );

        foreach ($this->_info as $f)
        {
            $this->AddField($f);
        }

        $this->AddField(new MSpacer());

        foreach ($this->_panel as $f)
        {
            $this->AddField($f);
            $this->AddField(new MSpacer());
        }

        foreach ($this->_form as $f)
        {
            $this->AddField($f);
            $this->AddField(new MSpacer());
        }
    }

    function Generate()
    {
        if (!isset($this->buttons))
        {
            if ($this->defaultButton)
            {
                $this->buttons[] = new MButton(FORM_SUBMIT_BTN_NAME, 'Enviar', 'SUBMIT');
            }
        }

        $body = $this->GenerateBody();
        $footer = $this->GenerateFooter();
        $this->box->SetBoxClass('m-form-body');

        $this->box->SetControls(array($body, $footer));
        return $this->box->Generate();
    }
}
?>